# Python Crawler Marathon Project: Stickers

This repository is for demonstration of how I've learnt in Web Crawling.


## Project Introduction & 

ONLY FOR ACADEMY PURPOSE. Crawling LINE stickers from LINE official website.

Thinking of it always cost me lots of time grabing stickers manually by right-click and then look into the html elements every time, so I found that this is a good topic to implement web crawling.

- Which stickers can be crawled and downloaded:
  - Static stickers
  - Animated stickers (only for Windows)


## How-To Use

- Run following command to retrieve sticker collection by product ID: (https://store.line.me/stickershop/product/30924 for example)
```
python apps/main.py -t product -v 30924
```

- Run follwing command to retrieve sticker collection by author ID: (https://store.line.me/stickershop/author/74677 for example)
```
python apps/main.py -t author -v 74677
```

- Input Arguements
  - `--type`, `-t`: sticker collection type, i.e. 'product', or 'author'
  - `--value`, `-v`: sticker collection ID


## Analizing and Implementation

The sticker urls have regular REST pattern.

1. Obtain Sticker Collections: `https://store.line.me/stickershop/{sticker_type}/{id}`

  - https://store.line.me/stickershop/product/30924
  - https://store.line.me/stickershop/author/74677

2. Use BeautifulSoup to get all of the Sticker urls from the (step1) html : it is put in the `href` of the same class in the DOM.

```html
<li class="mdCMN09Li FnStickerPreviewItem animation-sticker " data-preview="{ "type" : "animation", "id" : "218677006", "staticUrl" : "https://stickershop.line-scdn.net/stickershop/v1/sticker/218677006/iPhone/sticker@2x.png?v=6", "fallbackStaticUrl" : "https://stickershop.line-scdn.net/stickershop/v1/sticker/218677006/iPhone/sticker@2x.png?v=6", "animationUrl" : "https://stickershop.line-scdn.net/stickershop/v1/sticker/218677006/iPhone/sticker_animation@2x.png?v=6", "popupUrl" : "", "soundUrl" : "" }" data-test="sticker-item">
</li>
```

3. Distinush sticker type from html element, if it contains `animation` of "type" then it is animated sticker, otherwise, it is static sticker
4. Download the sticker.
5. If the sticker is animated, then use 3rd program to convert aPNG to GIF, in order to display successfully on most of the social media platforms.


## What I've learnt in Web Crawling Course

(1) Basic Web Crawling Knowledge
  - Introduction to the fundamental principles of HTTP network communication and HTML content formatting, coupled with program automation for data collection.

(2) Static Web Crawling Techniques
  - Deconstructing the specifications and principles of static web pages, using Python crawlers to parse HTML/CSS/JavaScript and collect specific data from static web pages.

(3) Dynamic Web Crawling Techniques
  - Using Selenium + BeautifulSoup to simulate browser execution of dynamic web pages, parsing and collecting specific data generated by various dynamic web pages, and learning to interpret the characteristics of web page content using browser developer tools.

(4) Data Visualization
  - Learning different plotting frameworks such as Matplotlib, Seaborn, Plotly, etc., to visually represent the data collected by crawlers.

(5) Scrapy Website Crawling Framework
  - Addressing the multi-page crawling needs at the website level, learning to establish crawler strategies and frameworks using Scrapy.

(6) Advanced Crawling Techniques
  - Many websites are not completely public. This chapter will teach you advanced crawler techniques to overcome obstacles such as anti-crawling websites, automatic login, CAPTCHA, and how to accelerate the crawling efficiency of a large number of web pages.

(7) Final Project
  - Integrating the knowledge learned above, providing three topics for students to showcase their acquired skills.

## Course Url
- https://www.cupoy.com/marathon/000001770588CD17000000026375706F795F72656C656173654355
